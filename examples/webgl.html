<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <meta name="description" content="">
    <meta name="google" value="notranslate">
    <meta name="author" content="Klokan Technologies GmbH (http://www.klokantech.com/)">
    <meta name="url" content="https://github.com/klokantech/iiifviewer">
    <link href="http://klokantech.github.io/styles/base.css" rel="stylesheet">
    <link href="../index.css" rel="stylesheet">
    <script type="text/javascript" src="http://klokantech.github.io/styles/js/index.js"></script>
    <title>IIIF Viewer | WebGL color effects example</title>

    <script src="http://openlayers.org/en/v3.0.0/build/ol.js" type="text/javascript"></script>
    <script src="../ol-iiifviewer.js"></script>
  </head>
  <body>
    <div id="navbar-top-small">
      <div class="container">
        <div class="logo">
          <h1 style="padding-top: 10px;">
            <img src="../img/iiifviewer-logo-white.png"> 
            <a href="https://github.com/klokantech/iiifviewer">
              <strong>IIIF</strong> Viewer
            </a>
          </h1>
        </div>
        <ul class="nav">
          <li><a href="https://github.com/klokantech/iiifviewer">Github</a></li>
          <li><a href="http://www.klokantech.com/contact/">Contact</a></li>
        </ul>
        <div class="nav-mobile">
          <div id="nav-mobile-btn">#</div>
          <ul id="nav-mobile-nav">
            <li><a href="https://github.com/klokantech/iiifviewer">Github</a></li>
            <li><a href="http://www.klokantech.com/contact/">Contact</a></li>          
          </ul>
        </div>
      </div>
    </div>   
    <div class="container main">
      <div class="row">
        <div class="col2">
          Available examples:
          <ul>
            <li><a href="index.html">Simple example</a></li>
            <li><a href="features.html">Draw and modify features</a></li>
            <li><a href="webgl.html">WebGL color effects</a></li>
            <li><a href="print.html">Print to PDF</a></li>           
            <li><a href="permalink.html">Permalink</a></li>
          </ul>
        </div>
        <div class="col6">
          <h3>WebGL color effects example</h3>
          <div id="no-webgl" style="background:red;width:600px;display:none;">
            This example requires a browser that supports <a href="http://get.webgl.org/">WebGL</a>.
          </div>
          <div id="map" style="width:100%; height:400px; border:1px solid #000;"></div>
        </div>
        <div class="col4">
          <br><br>
          <form style="width: 150px;">
            <label>Brightness:</label><input id="brightness" type="range" min="-1" max="1" step="0.1" value="0" />
            <label>Contrast:</label><input id="contrast" type="range" min="0" max="5" step="0.1" value="1" />
            <label>Hue:</label><input id="hue" type="range" min="-3.14" max="3.14" step="0.1" value="0" />
            <label>Saturation:</label><input id="saturation" type="range" min="0" max="5" step="0.1" value="1" />
          </form>
          <script type="text/javascript">
            var init = function(viewer) {
              var map = viewer.getMap();
              var layer = map.getLayers().item(0);

              var brightness = document.getElementById('brightness');
              brightness.oninput = function(e) {
                layer.setBrightness(parseFloat(brightness.value));
              };

              var contrast = document.getElementById('contrast');
              contrast.oninput = function(e) {
                layer.setContrast(parseFloat(contrast.value));
              };

              var hue = document.getElementById('hue');
              hue.oninput = function(e) {
                layer.setHue(parseFloat(hue.value));
              };

              var saturation = document.getElementById('saturation');
              saturation.oninput = function(e) {
                layer.setSaturation(parseFloat(saturation.value));
              };
            };
            if (ol.has.WEBGL) {
              var url = location.hash.toString().substr(1);
              if (url.length < 2)
                url = 'http://iiif.klokantech.com/demo.jp2/info.json';
              new IiifViewer('map', url, init, true);
            } else {
              document.getElementById('no-webgl').style.display = '';
            }
          </script>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="container pad-2">
        Copyright &copy; 2014 <a href="http://klokantech.com">Klokan Technologies GmbH</a>
      </div>
    </div>
  </body>
</html>
